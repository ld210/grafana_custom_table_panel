{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./renderer.ts","webpack:///external \"@grafana/ui\"","webpack:///external \"app/core/utils/kbn\"","webpack:///external \"lodash\"","webpack:///external \"moment\""],"names":[],"mappings":"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","file":"renderer.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./renderer.ts\");\n","import _ from 'lodash';\nimport moment from 'moment';\nimport kbn from 'grafana/app/core/utils/kbn';\nimport { getValueFormat, getColorFromHexRgbOrName, GrafanaThemeType } from '@grafana/ui';\n\nexport class TableRenderer {\n  formatters: any[];\n  colorState: any;\n\n  constructor(\n    private panel,\n    private table,\n    private isUtc,\n    private sanitize,\n    private templateSrv,\n    private theme?: GrafanaThemeType\n  ) {\n    this.initColumns();\n  }\n\n  setTable(table) {\n    this.table = table;\n\n    this.initColumns();\n  }\n\n  initColumns() {\n    this.formatters = [];\n    this.colorState = {};\n\n    for (let colIndex = 0; colIndex < this.table.columns.length; colIndex++) {\n      const column = this.table.columns[colIndex];\n      column.title = column.text;\n\n      for (let i = 0; i < this.panel.styles.length; i++) {\n        const style = this.panel.styles[i];\n\n        const regex = kbn.stringToJsRegex(style.pattern);\n        if (column.text.match(regex)) {\n          column.style = style;\n\n          if (style.alias) {\n            column.title = column.text.replace(regex, style.alias);\n          }\n\n          break;\n        }\n      }\n\n      this.formatters[colIndex] = this.createColumnFormatter(column);\n    }\n  }\n\n  getColorForValue(value, style) {\n    if (!style.thresholds) {\n      return null;\n    }\n    for (let i = style.thresholds.length; i > 0; i--) {\n      if (value >= style.thresholds[i - 1]) {\n        return getColorFromHexRgbOrName(style.colors[i], this.theme);\n      }\n    }\n    return getColorFromHexRgbOrName(style.colors[0], this.theme);\n  }\n\n  defaultCellFormatter(v, style) {\n    if (v === null || v === void 0 || v === undefined) {\n      return '';\n    }\n\n    if (_.isArray(v)) {\n      v = v.join(', ');\n    }\n\n    if (style && style.sanitize) {\n      return this.sanitize(v);\n    } else {\n      return _.escape(v);\n    }\n  }\n\n  createColumnFormatter(column) {\n    if (!column.style) {\n      return this.defaultCellFormatter;\n    }\n\n    if (column.style.type === 'hidden') {\n      return v => {\n        return undefined;\n      };\n    }\n\n    if (column.style.type === 'date') {\n      return v => {\n        if (v === undefined || v === null) {\n          return '-';\n        }\n\n        if (_.isArray(v)) {\n          v = v[0];\n        }\n\n        // if is an epoch (numeric string and len > 12)\n        if (_.isString(v) && !isNaN(Number(v)) && v.length > 12) {\n          v = parseInt(v, 10);\n        }\n\n        let date = moment(v);\n\n        if (this.isUtc) {\n          date = date.utc();\n        }\n        column.style.rawValue = v;\n        return date.format(column.style.dateFormat);\n      };\n    }\n\n    if (column.style.type === 'string') {\n      return v => {\n        if (_.isArray(v)) {\n          v = v.join(', ');\n        }\n\n        const mappingType = column.style.mappingType || 0;\n\n        if (mappingType === 1 && column.style.valueMaps) {\n          for (let i = 0; i < column.style.valueMaps.length; i++) {\n            const map = column.style.valueMaps[i];\n\n            if (v === null) {\n              if (map.value === 'null') {\n                return map.text;\n              }\n              continue;\n            }\n\n            // Allow both numeric and string values to be mapped\n            if ((!_.isString(v) && Number(map.value) === Number(v)) || map.value === v) {\n              this.setColorState(v, column.style);\n              return this.defaultCellFormatter(map.text, column.style);\n            }\n          }\n        }\n\n        if (mappingType === 2 && column.style.rangeMaps) {\n          for (let i = 0; i < column.style.rangeMaps.length; i++) {\n            const map = column.style.rangeMaps[i];\n\n            if (v === null) {\n              if (map.from === 'null' && map.to === 'null') {\n                return map.text;\n              }\n              continue;\n            }\n\n            if (Number(map.from) <= Number(v) && Number(map.to) >= Number(v)) {\n              this.setColorState(v, column.style);\n              return this.defaultCellFormatter(map.text, column.style);\n            }\n          }\n        }\n\n        if (v === null || v === void 0) {\n          return '-';\n        }\n\n        this.setColorState(v, column.style);\n        return this.defaultCellFormatter(v, column.style);\n      };\n    }\n\n    if (column.style.type === 'number') {\n      const valueFormatter = getValueFormat(column.unit || column.style.unit);\n\n      return v => {\n        column.style.rawValue = v;\n        if (v === null || v === void 0) {\n          return '-';\n        }\n\n        if (_.isString(v) || _.isArray(v)) {\n          return this.defaultCellFormatter(v, column.style);\n        }\n\n        this.setColorState(v, column.style);\n        return valueFormatter(v, column.style.decimals, null);\n      };\n    }\n\n    return value => {\n      column.style.rawValue = value;\n      return this.defaultCellFormatter(value, column.style);\n    };\n  }\n\n  setColorState(value, style) {\n    if (!style.colorMode) {\n      return;\n    }\n\n    if (value === null || value === void 0 || _.isArray(value)) {\n      return;\n    }\n\n    const numericValue = Number(value);\n    if (isNaN(numericValue)) {\n      return;\n    }\n\n    this.colorState[style.colorMode] = this.getColorForValue(numericValue, style);\n  }\n\n  renderRowVariables(rowIndex) {\n    const scopedVars = {};\n    let cellVariable;\n    const row = this.table.rows[rowIndex];\n    for (let i = 0; i < row.length; i++) {\n      cellVariable = `__cell_${i}`;\n      scopedVars[cellVariable] = { value: row[i] };\n    }\n    return scopedVars;\n  }\n\n  formatColumnValue(colIndex, value) {\n    return this.formatters[colIndex] ? this.formatters[colIndex](value) : value;\n  }\n\n  renderCell(columnIndex, rowIndex, value, addWidthHack = false) {\n    value = this.formatColumnValue(columnIndex, value);\n\n    const column = this.table.columns[columnIndex];\n    let cellStyle = '';\n    let textStyle = '';\n    const cellClasses: any[] = [];\n    let cellClass = '';\n\n    if (this.colorState.cell) {\n      cellStyle = ' style=\"background-color:' + this.colorState.cell + '\"';\n      cellClasses.push('table-panel-color-cell');\n      this.colorState.cell = null;\n    } else if (this.colorState.value) {\n      textStyle = ' style=\"color:' + this.colorState.value + '\"';\n      this.colorState.value = null;\n    }\n    // because of the fixed table headers css only solution\n    // there is an issue if header cell is wider the cell\n    // this hack adds header content to cell (not visible)\n    let columnHtml = '';\n    if (addWidthHack) {\n      columnHtml = '<div class=\"table-panel-width-hack\">' + this.table.columns[columnIndex].title + '</div>';\n    }\n\n    if (value === undefined) {\n      cellStyle = ' style=\"display:none;\"';\n      column.hidden = true;\n    } else {\n      column.hidden = false;\n    }\n\n    if (column.hidden === true) {\n      return '';\n    }\n\n    if (column.style && column.style.preserveFormat) {\n      cellClasses.push('table-panel-cell-pre');\n    }\n\n    if (column.style && column.style.link) {\n      // Render cell as link\n      const scopedVars = this.renderRowVariables(rowIndex);\n      scopedVars['__cell'] = { value: value };\n\n      const cellLink = this.templateSrv.replace(column.style.linkUrl, scopedVars, encodeURIComponent);\n      const cellLinkTooltip = this.templateSrv.replace(column.style.linkTooltip, scopedVars);\n      const cellTarget = column.style.linkTargetBlank ? '_blank' : '';\n\n      cellClasses.push('table-panel-cell-link');\n\n      columnHtml += `\n        <a href=\"${cellLink}\" target=\"${cellTarget}\" data-link-tooltip data-original-title=\"${cellLinkTooltip}\" data-placement=\"right\"${textStyle}>\n          ${value}\n        </a>\n      `;\n    } else {\n      columnHtml += value;\n    }\n\n    if (column.filterable) {\n      cellClasses.push('table-panel-cell-filterable');\n      columnHtml += `\n        <a class=\"table-panel-filter-link\" data-link-tooltip data-original-title=\"Filter out value\" data-placement=\"bottom\"\n           data-row=\"${rowIndex}\" data-column=\"${columnIndex}\" data-operator=\"!=\">\n          <i class=\"fa fa-search-minus\"></i>\n        </a>\n        <a class=\"table-panel-filter-link\" data-link-tooltip data-original-title=\"Filter for value\" data-placement=\"bottom\"\n           data-row=\"${rowIndex}\" data-column=\"${columnIndex}\" data-operator=\"=\">\n          <i class=\"fa fa-search-plus\"></i>\n        </a>`;\n    }\n\n    if (cellClasses.length) {\n      cellClass = ' class=\"' + cellClasses.join(' ') + '\"';\n    }\n\n    if (column.style && column.style.type === 'flags') {\n      const code = column.style.rawValue.toLowerCase();\n      columnHtml = column.style.display === 'flagicon' ? `<span class=\"flag-icon flag-icon-${code}\"></span>` : value;\n    }\n\n    if (column.style && column.style.display === 'delta') {\n      const num = Number(column.style.rawValue);\n      const icon = num > 0 ? 'up' : num < 0 ? 'down' : undefined;\n      const colors = column.style.colors;\n      const color = icon === 'up' ? colors[colors.length - 1] : icon === 'down' ? colors[0] : '#ffffff';\n\n      const html = `\n        <div class=\"arrow-container\" style=\"display:block;width:25px;height:25px;color:${color};font-size:20px;line-height:25px;\">\n          <i class=\"grafana-tip fa fa-arrow-${icon}\"></i>\n          <span class=\"bidder-tooltip\">${value}</span>\n        </div>\n      `;\n\n      columnHtml = icon ? html : '-';\n    }\n\n    if (column.style && column.style.display === 'progressbar') {\n      const color = this.getColorForValue(Number(column.style.rawValue), column.style);\n      const pbarStyle = `display:block;width:${value};max-width:100%;height:100%;padding:5px 0;background-color:${color}`;\n\n      columnHtml = `\n      <td style=\"padding:0;background-color:#212124;\">\n        <div style=\"${pbarStyle}\"><span style=\"padding-left:15px;\">${value}</span></div>\n      </td>`;\n    } else {\n      columnHtml = '<td' + cellClass + cellStyle + textStyle + '>' + columnHtml + '</td>';\n    }\n    return columnHtml;\n  }\n\n  render(page) {\n    const pageSize = this.panel.pageSize || 100;\n    const startPos = page * pageSize;\n    const endPos = Math.min(startPos + pageSize, this.table.rows.length);\n    let html = '';\n    const rowClasses: any[] = [];\n    let rowClass = '';\n\n    for (let y = startPos; y < endPos; y++) {\n      const row = this.table.rows[y];\n      let cellHtml = '';\n      let rowStyle = '';\n      for (let i = 0; i < this.table.columns.length; i++) {\n        cellHtml += this.renderCell(i, y, row[i], y === startPos);\n      }\n\n      if (this.colorState.row) {\n        rowStyle = ' style=\"background-color:' + this.colorState.row + '\"';\n        rowClasses.push('table-panel-color-row');\n        this.colorState.row = null;\n      }\n\n      if (rowClasses.length) {\n        rowClass = ' class=\"' + rowClasses.join(' ') + '\"';\n      }\n\n      html += '<tr ' + rowClass + rowStyle + '>' + cellHtml + '</tr>';\n    }\n\n    return html;\n  }\n\n  render_values() {\n    const rows: any[] = [];\n\n    for (let y = 0; y < this.table.rows.length; y++) {\n      const row = this.table.rows[y];\n      const newRow: any[] = [];\n      for (let i = 0; i < this.table.columns.length; i++) {\n        newRow.push(this.formatColumnValue(i, row[i]));\n      }\n      rows.push(newRow);\n    }\n    return {\n      columns: this.table.columns,\n      rows: rows,\n    };\n  }\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__grafana_ui__;","module.exports = __WEBPACK_EXTERNAL_MODULE_grafana_app_core_utils_kbn__;","module.exports = __WEBPACK_EXTERNAL_MODULE_lodash__;","module.exports = __WEBPACK_EXTERNAL_MODULE_moment__;"],"sourceRoot":""}