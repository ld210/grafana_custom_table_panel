{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"lodash\"","webpack:///external \"@grafana/ui\"","webpack:///./renderer.ts","webpack:///external \"moment\"","webpack:///external \"app/core/utils/kbn\""],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","default","object","property","prototype","hasOwnProperty","p","s","e","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__2__","a","_ui","TableRenderer","panel","table","isUtc","sanitize","templateSrv","theme","this","initColumns","setTable","formatters","colorState","colIndex","columns","length","column","title","text","styles","style","regex","_kbn2","stringToJsRegex","pattern","match","alias","replace","createColumnFormatter","getColorForValue","thresholds","getColorFromHexRgbOrName","colors","defaultCellFormatter","v","_lodash2","isArray","join","escape","_this","type","isString","isNaN","Number","parseInt","date","_moment2","utc","rawValue","format","dateFormat","mappingType","valueMaps","map","setColorState","rangeMaps","from","to","valueFormatter_1","getValueFormat","unit","decimals","colorMode","numericValue","renderRowVariables","rowIndex","scopedVars","row","rows","formatColumnValue","renderCell","columnIndex","addWidthHack","cellStyle","textStyle","cellClasses","cellClass","cell","push","columnHtml","hidden","preserveFormat","link","__cell","cellLink","linkUrl","encodeURIComponent","cellLinkTooltip","linkTooltip","cellTarget","linkTargetBlank","filterable","num","icon","color","display","render","page","pageSize","startPos","endPos","Math","min","html","rowClasses","rowClass","y","cellHtml","rowStyle","render_values","newRow","__WEBPACK_EXTERNAL_MODULE__7__","__WEBPACK_EXTERNAL_MODULE__8__"],"mappings":"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","file":"renderer.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","import _ from 'lodash';\nimport moment from 'moment';\nimport kbn from 'grafana/app/core/utils/kbn';\nimport { getValueFormat, getColorFromHexRgbOrName, GrafanaThemeType } from '@grafana/ui';\n\nexport class TableRenderer {\n  formatters: any[];\n  colorState: any;\n\n  constructor(\n    private panel,\n    private table,\n    private isUtc,\n    private sanitize,\n    private templateSrv,\n    private theme?: GrafanaThemeType\n  ) {\n    this.initColumns();\n  }\n\n  setTable(table) {\n    this.table = table;\n\n    this.initColumns();\n  }\n\n  initColumns() {\n    this.formatters = [];\n    this.colorState = {};\n\n    for (let colIndex = 0; colIndex < this.table.columns.length; colIndex++) {\n      const column = this.table.columns[colIndex];\n      column.title = column.text;\n\n      for (let i = 0; i < this.panel.styles.length; i++) {\n        const style = this.panel.styles[i];\n\n        const regex = kbn.stringToJsRegex(style.pattern);\n        if (column.text.match(regex)) {\n          column.style = style;\n\n          if (style.alias) {\n            column.title = column.text.replace(regex, style.alias);\n          }\n\n          break;\n        }\n      }\n\n      this.formatters[colIndex] = this.createColumnFormatter(column);\n    }\n  }\n\n  getColorForValue(value, style) {\n    if (!style.thresholds) {\n      return null;\n    }\n    for (let i = style.thresholds.length; i > 0; i--) {\n      if (value >= style.thresholds[i - 1]) {\n        return getColorFromHexRgbOrName(style.colors[i], this.theme);\n      }\n    }\n    return getColorFromHexRgbOrName(style.colors[0], this.theme);\n  }\n\n  defaultCellFormatter(v, style) {\n    if (v === null || v === void 0 || v === undefined) {\n      return '';\n    }\n\n    if (_.isArray(v)) {\n      v = v.join(', ');\n    }\n\n    if (style && style.sanitize) {\n      return this.sanitize(v);\n    } else {\n      return _.escape(v);\n    }\n  }\n\n  createColumnFormatter(column) {\n    if (!column.style) {\n      return this.defaultCellFormatter;\n    }\n\n    if (column.style.type === 'hidden') {\n      return v => {\n        return undefined;\n      };\n    }\n\n    if (column.style.type === 'date') {\n      return v => {\n        if (v === undefined || v === null) {\n          return '-';\n        }\n\n        if (_.isArray(v)) {\n          v = v[0];\n        }\n\n        // if is an epoch (numeric string and len > 12)\n        if (_.isString(v) && !isNaN(Number(v)) && v.length > 12) {\n          v = parseInt(v, 10);\n        }\n\n        let date = moment(v);\n\n        if (this.isUtc) {\n          date = date.utc();\n        }\n        column.style.rawValue = v;\n        return date.format(column.style.dateFormat);\n      };\n    }\n\n    if (column.style.type === 'string') {\n      return v => {\n        if (_.isArray(v)) {\n          v = v.join(', ');\n        }\n\n        const mappingType = column.style.mappingType || 0;\n\n        if (mappingType === 1 && column.style.valueMaps) {\n          for (let i = 0; i < column.style.valueMaps.length; i++) {\n            const map = column.style.valueMaps[i];\n\n            if (v === null) {\n              if (map.value === 'null') {\n                return map.text;\n              }\n              continue;\n            }\n\n            // Allow both numeric and string values to be mapped\n            if ((!_.isString(v) && Number(map.value) === Number(v)) || map.value === v) {\n              this.setColorState(v, column.style);\n              return this.defaultCellFormatter(map.text, column.style);\n            }\n          }\n        }\n\n        if (mappingType === 2 && column.style.rangeMaps) {\n          for (let i = 0; i < column.style.rangeMaps.length; i++) {\n            const map = column.style.rangeMaps[i];\n\n            if (v === null) {\n              if (map.from === 'null' && map.to === 'null') {\n                return map.text;\n              }\n              continue;\n            }\n\n            if (Number(map.from) <= Number(v) && Number(map.to) >= Number(v)) {\n              this.setColorState(v, column.style);\n              return this.defaultCellFormatter(map.text, column.style);\n            }\n          }\n        }\n\n        if (v === null || v === void 0) {\n          return '-';\n        }\n\n        this.setColorState(v, column.style);\n        return this.defaultCellFormatter(v, column.style);\n      };\n    }\n\n    if (column.style.type === 'number') {\n      const valueFormatter = getValueFormat(column.unit || column.style.unit);\n\n      return v => {\n        column.style.rawValue = v;\n        if (v === null || v === void 0) {\n          return '-';\n        }\n\n        if (_.isString(v) || _.isArray(v)) {\n          return this.defaultCellFormatter(v, column.style);\n        }\n\n        this.setColorState(v, column.style);\n        return valueFormatter(v, column.style.decimals, null);\n      };\n    }\n\n    return value => {\n      column.style.rawValue = value;\n      return this.defaultCellFormatter(value, column.style);\n    };\n  }\n\n  setColorState(value, style) {\n    if (!style.colorMode) {\n      return;\n    }\n\n    if (value === null || value === void 0 || _.isArray(value)) {\n      return;\n    }\n\n    const numericValue = Number(value);\n    if (isNaN(numericValue)) {\n      return;\n    }\n\n    this.colorState[style.colorMode] = this.getColorForValue(numericValue, style);\n  }\n\n  renderRowVariables(rowIndex) {\n    const scopedVars = {};\n    let cellVariable;\n    const row = this.table.rows[rowIndex];\n    for (let i = 0; i < row.length; i++) {\n      cellVariable = `__cell_${i}`;\n      scopedVars[cellVariable] = { value: row[i] };\n    }\n    return scopedVars;\n  }\n\n  formatColumnValue(colIndex, value) {\n    return this.formatters[colIndex] ? this.formatters[colIndex](value) : value;\n  }\n\n  renderCell(columnIndex, rowIndex, value, addWidthHack = false) {\n    value = this.formatColumnValue(columnIndex, value);\n\n    const column = this.table.columns[columnIndex];\n    let cellStyle = '';\n    let textStyle = '';\n    const cellClasses: any[] = [];\n    let cellClass = '';\n\n    if (this.colorState.cell) {\n      cellStyle = ' style=\"background-color:' + this.colorState.cell + '\"';\n      cellClasses.push('table-panel-color-cell');\n      this.colorState.cell = null;\n    } else if (this.colorState.value) {\n      textStyle = ' style=\"color:' + this.colorState.value + '\"';\n      this.colorState.value = null;\n    }\n    // because of the fixed table headers css only solution\n    // there is an issue if header cell is wider the cell\n    // this hack adds header content to cell (not visible)\n    let columnHtml = '';\n    if (addWidthHack) {\n      columnHtml = '<div class=\"table-panel-width-hack\">' + this.table.columns[columnIndex].title + '</div>';\n    }\n\n    if (value === undefined) {\n      cellStyle = ' style=\"display:none;\"';\n      column.hidden = true;\n    } else {\n      column.hidden = false;\n    }\n\n    if (column.hidden === true) {\n      return '';\n    }\n\n    if (column.style && column.style.preserveFormat) {\n      cellClasses.push('table-panel-cell-pre');\n    }\n\n    if (column.style && column.style.link) {\n      // Render cell as link\n      const scopedVars = this.renderRowVariables(rowIndex);\n      scopedVars['__cell'] = { value: value };\n\n      const cellLink = this.templateSrv.replace(column.style.linkUrl, scopedVars, encodeURIComponent);\n      const cellLinkTooltip = this.templateSrv.replace(column.style.linkTooltip, scopedVars);\n      const cellTarget = column.style.linkTargetBlank ? '_blank' : '';\n\n      cellClasses.push('table-panel-cell-link');\n\n      columnHtml += `\n        <a href=\"${cellLink}\" target=\"${cellTarget}\" data-link-tooltip data-original-title=\"${cellLinkTooltip}\" data-placement=\"right\"${textStyle}>\n          ${value}\n        </a>\n      `;\n    } else {\n      columnHtml += value;\n    }\n\n    if (column.filterable) {\n      cellClasses.push('table-panel-cell-filterable');\n      columnHtml += `\n        <a class=\"table-panel-filter-link\" data-link-tooltip data-original-title=\"Filter out value\" data-placement=\"bottom\"\n           data-row=\"${rowIndex}\" data-column=\"${columnIndex}\" data-operator=\"!=\">\n          <i class=\"fa fa-search-minus\"></i>\n        </a>\n        <a class=\"table-panel-filter-link\" data-link-tooltip data-original-title=\"Filter for value\" data-placement=\"bottom\"\n           data-row=\"${rowIndex}\" data-column=\"${columnIndex}\" data-operator=\"=\">\n          <i class=\"fa fa-search-plus\"></i>\n        </a>`;\n    }\n\n    if (cellClasses.length) {\n      cellClass = ' class=\"' + cellClasses.join(' ') + '\"';\n    }\n\n    if (column.style && column.style.type === 'delta') {\n      const num = Number(column.style.rawValue);\n      const icon = num > 0 ? 'up' : num < 0 ? 'down' : undefined;\n      const colors = column.style.colors;\n      const color = icon === 'up' ? colors[colors.length - 1] : icon === 'down' ? colors[0] : '#ffffff';\n\n      const html = `\n        <div class=\"arrow-container\" style=\"display:block;width:25px;height:25px;color:${color};font-size:20px;line-height:25px;\">\n          <i class=\"grafana-tip fa fa-arrow-${icon}\" bs-tooltip=\"${value}\" data-original-title title=\"${value}\"></i>\n          <span class=\"bidder-tooltip\">${value}</span>\n        </div>\n      `;\n\n      columnHtml = icon ? html : '-';\n    }\n\n    if (column.style && column.style.display === 'progressbar') {\n      const color = this.getColorForValue(Number(column.style.rawValue), column.style);\n      const pbarStyle = `display:block;width:${value};max-width:100%;height:100%;padding:5px 0;background-color:${color}`;\n\n      columnHtml = `\n      <td style=\"padding:0;background-color:#212124;\">\n        <div style=\"${pbarStyle}\">${value}</div>\n      </td>`;\n    } else {\n      columnHtml = '<td' + cellClass + cellStyle + textStyle + '>' + columnHtml + '</td>';\n    }\n    return columnHtml;\n  }\n\n  render(page) {\n    const pageSize = this.panel.pageSize || 100;\n    const startPos = page * pageSize;\n    const endPos = Math.min(startPos + pageSize, this.table.rows.length);\n    let html = '';\n    const rowClasses: any[] = [];\n    let rowClass = '';\n\n    for (let y = startPos; y < endPos; y++) {\n      const row = this.table.rows[y];\n      let cellHtml = '';\n      let rowStyle = '';\n      for (let i = 0; i < this.table.columns.length; i++) {\n        cellHtml += this.renderCell(i, y, row[i], y === startPos);\n      }\n\n      if (this.colorState.row) {\n        rowStyle = ' style=\"background-color:' + this.colorState.row + '\"';\n        rowClasses.push('table-panel-color-row');\n        this.colorState.row = null;\n      }\n\n      if (rowClasses.length) {\n        rowClass = ' class=\"' + rowClasses.join(' ') + '\"';\n      }\n\n      html += '<tr ' + rowClass + rowStyle + '>' + cellHtml + '</tr>';\n    }\n\n    return html;\n  }\n\n  render_values() {\n    const rows: any[] = [];\n\n    for (let y = 0; y < this.table.rows.length; y++) {\n      const row = this.table.rows[y];\n      const newRow: any[] = [];\n      for (let i = 0; i < this.table.columns.length; i++) {\n        newRow.push(this.formatColumnValue(i, row[i]));\n      }\n      rows.push(newRow);\n    }\n    return {\n      columns: this.table.columns,\n      rows: rows,\n    };\n  }\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__7__;","module.exports = __WEBPACK_EXTERNAL_MODULE__8__;"],"sourceRoot":""}